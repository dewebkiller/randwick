!function(e){var t={};function a(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=e,a.c=t,a.d=function(e,t,i){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(i,r,function(t){return e[t]}.bind(null,r));return i},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=30)}({30:function(e,t,a){e.exports=a(32)},32:function(e,t,a){"use strict";a.r(t);class i{constructor(e,t){this.id=e,this.url=cartimize_checkopt_ajax.ajax_url.toString().replace("%%endpoint%%",this.id),this.data=t}prep(e,t,a){let i={action:e};return Object.assign(i,a),i}load(){jQuery.ajax({type:"POST",url:this.url,data:this.data,dataFilter:this.dataFilter.bind(this),success:this.response.bind(this),error:this.error.bind(this),dataType:"json"})}dataFilter(e,t){return e}error(e,t,a){let i;i=0===e.status?"Could not connect to server. Please refresh and try again or contact site administrator.":404===e.status?"Requested resource could not be found. Please contact site administrator. (404)":500===e.status?"An internal server error occurred. Please contact site administrator. (500)":"parsererror"===t?"Server response could not be parsed. Please contact site administrator.":"timeout"===t||504===e.status?"The server timed out while processing your request. Please refresh and try again or contact site administrator.":"abort"===t?"Request was aborted. Please contact site administrator.":Number.isInteger(e.status)?`Cartimize XHR status: ${e.status} : Cartimize XHR errorThrown: ${a}`:"Uncaught Error: "+e.responseText,console.log("Cartimize XHR response: "+e.response),console.log("Cartimize XHR responseText: "+e.responseText),console.log("Cartimize XHR status: "+e.status),console.log("Cartimize XHR errorThrown: "+a),_.instance.popUp.errorMsg(i)}get id(){return this._id}set id(e){this._id=e}get url(){return this._url}set url(e){this._url=e}get data(){return this._data}set data(e){this._data=e}}class r extends i{constructor(e,t){super(e,{action:e,"join-trial":1})}response(e){"object"!=typeof e&&(e=JSON.parse(e));let t=_.instance;"success"==e.status?(t.popUp.changeMsg(t.getUIMessage("trial_started")),setTimeout(()=>{"success"==e.status&&1==e.install_pro?t.onBoarding.startProFetchURL():"success"==e.status&&1==e.activate_pro?t.onBoarding.startProPluginActivation():t.onBoarding.redirectSettingPage()},2e3)):t.popUp.errorMsg(e.error_msg)}}class s extends i{constructor(e,t){super(e,{action:e,"pro-activate":1})}response(e){"object"!=typeof e&&(e=JSON.parse(e));let t=_.instance;"success"==e.status?t.onBoarding.redirectSettingPage():t.popUp.errorMsg(e.error_msg)}}class o extends i{constructor(e,t){super(e,{action:e,pro_fetch_url:1})}response(e){"object"!=typeof e&&(e=JSON.parse(e));let t=_.instance;"success"==e.status?"success"==e.status&&1==e.install_pro&&t.onBoarding.startProInstall():t.popUp.errorMsg(e.error_msg)}}class n extends i{constructor(e,t){super(e,{action:e,pro_install:1})}response(e){"object"!=typeof e&&(e=JSON.parse(e));let t=_.instance;"success"==e.status?(t.popUp.changeMsg(t.getUIMessage("install_success")),setTimeout(()=>{"success"==e.status&&1==e.activate_pro&&t.onBoarding.startProPluginActivation()},2e3)):t.popUp.errorMsg(e.error_msg)}}class c{constructor(){this.tabInitialize(),this.joinTrialListener(),this.proInstallActivateListener(),this.cartimize=_.instance}tabInitialize(){jQuery(window).on("load",()=>{jQuery("#tabs").tabs().addClass("ui-tabs-vertical ui-helper-clearfix"),jQuery("#tabs li").removeClass("ui-corner-top").addClass("ui-corner-left"),jQuery("#tabs").tabs("option","disabled",[7,8,9,10,11,12]),jQuery("#tabs").tabs("option","active",0),jQuery("#cartimize-pro-onboarding-page").removeClass("cartimize-admin-loading")})}joinTrialListener(){jQuery(".cartimize-try-pro").on("click",()=>{this.cartimize.popUp.openPopUpModal("On boarding"),this.cartimize.popUp.changeMsg(this.cartimize.getUIMessage("connect_server")),new r("join_trial",this.cartimize.ajaxInfo).load()})}proInstallActivateListener(){jQuery(".cartimize-activate-pro").on("click",()=>{this.startProPluginActivation()}),jQuery(".cartimize-install-pro").on("click",()=>{this.startProFetchURL()})}startProFetchURL(){this.cartimize.popUp.openPopUpModal("On boarding"),this.cartimize.popUp.changeMsg(this.cartimize.getUIMessage("download_trial")),new o("pro_fetch_url",this.cartimize.ajaxInfo).load()}startProPluginActivation(){this.cartimize.popUp.openPopUpModal("On boarding"),this.cartimize.popUp.changeMsg(this.cartimize.getUIMessage("activate_pro")),new s("pro_activate",this.cartimize.ajaxInfo).load()}startProInstall(){this.cartimize.popUp.changeMsg(this.cartimize.getUIMessage("installing_pro")),new n("pro_install",this.cartimize.ajaxInfo).load()}continueInstall(){this.cartimize.popUp.changeMsg(this.cartimize.getUIMessage("redirect_setting")),window.location=cartimize_checkopt_ajax.setting_page_url}redirectSettingPage(){this.cartimize.popUp.changeMsg(this.cartimize.getUIMessage("redirect_setting")),window.location=cartimize_checkopt_ajax.setting_page_url}}class d{constructor(){this.msgElement="#cartimize-popup-loading-msg",this.errorElement="#cartimize-report-error",this.init()}openPopUpModal(e){jQuery("#cartimize-popu-modal").dialog({autoOpen:!0,title:e,dialogClass:"wp-dialog cartimize-report-dialog cartimize-pro-onboarding",modal:!0,draggable:!1,width:"600",closeOnEscape:!1}),this.init()}init(){this.msgObj=jQuery(this.msgElement),this.errorElement=jQuery(this.errorElement),this.hideError(),this.changeMsg("")}changeMsg(e){this.msgObj.text(e)}errorMsg(e){this.errorElement.text(e),this.showError(),this.changeMsg("")}showError(){this.errorElement.show()}hideError(){this.errorElement.hide()}}class l extends i{constructor(e,t){super(e,{action:e,check_now:1})}response(e){"object"!=typeof e&&(e=JSON.parse(e));let t=_.instance;!0===e.refresh?(t.popUp.changeMsg(t.getUIMessage("refresh_setting")),location.reload()):"service__not_valid"==e.error_code?(t.popUp.changeMsg(t.getUIMessage("invalid_account")),location.reload()):t.popUp.errorMsg(e.error_msg)}}class u{constructor(){this.checkNowListener()}checkNowListener(){jQuery(".cartimize-check-now").on("click",()=>{let e=_.instance;e.popUp.openPopUpModal("Service Request"),e.popUp.changeMsg(e.getUIMessage("connect_server")),new l("check_now",e.ajaxInfo).load()})}}class p extends i{constructor(e,t,a){super(e,{action:e,notice_type:a})}response(e){"object"!=typeof e&&(e=JSON.parse(e));let t=_.instance;"success"==e.status||t.popUp.errorMsg(e.error_msg)}}class m{constructor(){this.noticeListener(),this.cartimize=_.instance}noticeListener(){jQuery(document.body).on("click",".cartimize-notice .notice-dismiss",e=>{let t=jQuery(e.target).closest(".cartimize-notice").data("notice-type");new p("dismiss_notice",this.cartimize.ajaxInfo,t).load()})}}class g extends i{constructor(e,t){super(e,{action:e})}response(e){"object"!=typeof e&&(e=JSON.parse(e));_.instance;"success"==e.status&&(jQuery(".cartimize_deactivation_anonymous_data").text(e.result),jQuery(".cartimize_deactivation_anonymous_data").addClass("active"),jQuery(".cartimize-see-data-loader").hide(),jQuery(".cartimize_deactivation_anonymous_data").show())}}class h extends i{constructor(e,t,a,i,r){super(e,{action:e,feedBackType:a,sendAnonymous:i,message:r})}response(e){"object"!=typeof e&&(e=JSON.parse(e));_.instance;"success"==e.status&&(jQuery(".cartimize-send-deactivation").text("Deactivating..."),window.location=window.location.origin+window.location.pathname+"?cartimize-deactivate=1")}}class y{constructor(){this.radioButtonListener(),jQuery(window).on("load",()=>{this.deactivationButtonListenr(),this.showAnonymousData(),this.sendData(),this.checkBoxListener(),jQuery(".cartimize-deactivate-checkbox-label").hide()})}radioButtonListener(){jQuery(".cartimize-deactivate-radio").on("click",e=>{jQuery(".cartimize-send-deactivation").removeAttr("disabled"),jQuery(".cartimize-send-deactivation").removeClass("disabled");let t=jQuery('input[name="cartimize-deactivate-radio"]:checked').val();"issue"==t||"better_plugin"==t?(jQuery(".cartimize-deactivate-checkbox-label").css({display:"inline-block"}),jQuery(".cartimize_deactivation_anonymous_data").hasClass("active")&&jQuery(".cartimize-deactivate-data-send").is(":checked")&&jQuery(".cartimize_deactivation_anonymous_data").show()):(jQuery(".cartimize-deactivate-checkbox-label").hide(),jQuery(".cartimize_deactivation_anonymous_data").hasClass("active")&&jQuery(".cartimize-deactivate-data-send").is(":checked")&&jQuery(".cartimize_deactivation_anonymous_data").hide())})}checkBoxListener(){jQuery(".cartimize-deactivate-data-send").on("click",e=>{jQuery(".cartimize_deactivation_anonymous_data").hasClass("active")&&jQuery(".cartimize_deactivation_anonymous_data").toggle()})}deactivationButtonListenr(){jQuery("[data-slug='linear-checkout-for-woo-by-cartimize'] .deactivate a").click((function(e){e.preventDefault(),jQuery("#cartimize-popu-modal").dialog({autoOpen:!0,title:"",dialogClass:"wp-dialog cartimize-report-dialog",modal:!0,draggable:!1,width:"600",closeOnEscape:!0})}))}showAnonymousData(){jQuery(".cartimize-show-anonymous-data").on("click",e=>{if(e.preventDefault(),jQuery(".cartimize_deactivation_anonymous_data").hasClass("active")||!jQuery(".cartimize-deactivate-data-send").is(":checked"))return!1;jQuery(".cartimize-see-data-loader").css({display:"inline-block"});let t=_.instance;new g("report_collection",t.ajaxInfo).load()})}sendData(){jQuery(".cartimize-send-deactivation").on("click",e=>{let t=_.instance,a=jQuery('input[name="cartimize-deactivate-radio"]:checked').val(),i=jQuery(".cartimize-deactivate-data-send").is(":checked"),r=jQuery(".cartimize-deactivate-message."+a).val();new h("send_report",t.ajaxInfo,a,i,r).load(),jQuery(".cartimize-send-deactivation").text("Loading..."),jQuery(".cartimize-send-deactivation").attr("disabled",!0)})}}class _{constructor(e){_.instance=this,this.ajaxInfo=e,this.onBoarding=new c,this.popUp=new d,this.dismissNotice=new m,new u,new y}getUIMessage(e){let t=cartimize_checkopt_ajax.ui_messages;return void 0===t[e]||null==t[e]?"Message Not found":t[e]}}var j;j=function(){let e=cartimize_checkopt_ajax;new _(e.ajax_url)},"complete"===document.readyState||"interactive"===document.readyState?setTimeout(j,1):document.addEventListener("DOMContentLoaded",j)}});